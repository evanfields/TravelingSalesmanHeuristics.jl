<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Heuristics · Traveling Salesman Heuristics</title><meta name="title" content="Heuristics · Traveling Salesman Heuristics"/><meta property="og:title" content="Heuristics · Traveling Salesman Heuristics"/><meta property="twitter:title" content="Heuristics · Traveling Salesman Heuristics"/><meta name="description" content="Documentation for Traveling Salesman Heuristics."/><meta property="og:description" content="Documentation for Traveling Salesman Heuristics."/><meta property="twitter:description" content="Documentation for Traveling Salesman Heuristics."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Traveling Salesman Heuristics</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Heuristics</a><ul class="internal"><li><a class="tocitem" href="#Path-generation-heuristics"><span>Path generation heuristics</span></a></li><li><a class="tocitem" href="#Path-refinement-heuristics"><span>Path refinement heuristics</span></a></li><li><a class="tocitem" href="#Repetitive-heuristics"><span>Repetitive heuristics</span></a></li><li><a class="tocitem" href="#Lower-bounds"><span>Lower bounds</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Heuristics</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Heuristics</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/evanfields/TravelingSalesmanHeuristics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/evanfields/TravelingSalesmanHeuristics.jl/blob/master/docs/src/heuristics.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p>This page describes the heuristics currently implemented by this package. The heuristics are split into <em>path generation</em> heuristics, which create an initial path from a problem instance (specified by a distance matrix) and <em>path refinement</em> heuristics which take an input path and attempt to improve it.</p><h2 id="Path-generation-heuristics"><a class="docs-heading-anchor" href="#Path-generation-heuristics">Path generation heuristics</a><a id="Path-generation-heuristics-1"></a><a class="docs-heading-anchor-permalink" href="#Path-generation-heuristics" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TravelingSalesmanHeuristics.nearest_neighbor" href="#TravelingSalesmanHeuristics.nearest_neighbor"><code>TravelingSalesmanHeuristics.nearest_neighbor</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">nearest_neighbor(distmat)</code></pre><p>Approximately solve a TSP using the nearest neighbor heuristic. <code>distmat</code> is a square real matrix where distmat[i,j] represents the distance from city <code>i</code> to city <code>j</code>. The matrix needn&#39;t be symmetric and can contain negative values. Return a tuple <code>(path, pathcost)</code>.</p><p><strong>Optional keyword arguments:</strong></p><ul><li><code>firstcity::Union{Int, Nothing}</code>: specifies the city to begin the path on. Passing <code>nothing</code> or   not specifying a value corresponds to random selection.</li><li><code>closepath::Bool = true</code>: whether to include the arc from the last city visited back to the   first city in cost calculations. If true, the first city appears first and last in the path.</li><li><code>do2opt::Bool = true</code>: whether to refine the path found by 2-opt switches (corresponds to   removing path crossings in the planar Euclidean case).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/evanfields/TravelingSalesmanHeuristics.jl/blob/3f5a2734f54152a193e063187d8975027ad5c61f/src/TravelingSalesmanHeuristics.jl#L92-L106">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TravelingSalesmanHeuristics.farthest_insertion" href="#TravelingSalesmanHeuristics.farthest_insertion"><code>TravelingSalesmanHeuristics.farthest_insertion</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">farthest_insertion(distmat; ...)</code></pre><p>Generate a TSP path using the farthest insertion strategy. <code>distmat</code> must be a square real matrix. Return a tuple <code>(path, cost)</code>.</p><p><strong>Optional arguments:</strong></p><ul><li><code>firstCity::Int</code>: specifies the city to begin the path on. Not specifying a value corresponds   to random selection.</li><li><code>do2opt::Bool = true</code>: whether to improve the path by 2-opt swaps.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/evanfields/TravelingSalesmanHeuristics.jl/blob/3f5a2734f54152a193e063187d8975027ad5c61f/src/TravelingSalesmanHeuristics.jl#L257-L267">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TravelingSalesmanHeuristics.cheapest_insertion" href="#TravelingSalesmanHeuristics.cheapest_insertion"><code>TravelingSalesmanHeuristics.cheapest_insertion</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cheapest_insertion(distmat::Matrix, initpath::AbstractArray{Int})</code></pre><p>Given a distance matrix and an initial path, complete the tour by repeatedly doing the cheapest insertion. Return a tuple <code>(path, cost)</code>. The initial path must have length at least 2, but can be simply <code>[i, i]</code> for some city index <code>i</code> which corresponds to starting with a loop at city <code>i</code>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Insertions are always in the interior of the current path so this heuristic can also be used for non-closed TSP paths.</p></div></div><p>Currently the implementation is a naive <span>$n^3$</span> algorithm.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/evanfields/TravelingSalesmanHeuristics.jl/blob/3f5a2734f54152a193e063187d8975027ad5c61f/src/TravelingSalesmanHeuristics.jl#L165-L178">source</a></section><section><div><pre><code class="language-julia hljs">cheapest_insertion(distmat; ...)</code></pre><p>Complete a tour using cheapest insertion with a single-city loop as the initial path. Return a tuple <code>(path, cost)</code>.</p><p><strong>Optional keyword arguments:</strong></p><ul><li><code>firstcity::Union{Int, Nothing}</code>: specifies the city to begin the path on. Passing <code>nothing</code> or   not specifying a value corresponds to random selection.</li><li><code>do2opt::Bool = true</code>: whether to improve the path found by 2-opt swaps.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/evanfields/TravelingSalesmanHeuristics.jl/blob/3f5a2734f54152a193e063187d8975027ad5c61f/src/TravelingSalesmanHeuristics.jl#L209-L220">source</a></section></article><h2 id="Path-refinement-heuristics"><a class="docs-heading-anchor" href="#Path-refinement-heuristics">Path refinement heuristics</a><a id="Path-refinement-heuristics-1"></a><a class="docs-heading-anchor-permalink" href="#Path-refinement-heuristics" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TravelingSalesmanHeuristics.two_opt" href="#TravelingSalesmanHeuristics.two_opt"><code>TravelingSalesmanHeuristics.two_opt</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">two_opt(distmat, path)</code></pre><p>Improve <code>path</code> by doing 2-opt switches (i.e. reversing part of the path) until doing so no longer reduces the cost. Return a tuple <code>(improved_path, improved_cost)</code>.</p><p>On large problem instances this heuristic can be slow, but it is highly recommended on small and medium problem instances.</p><p>See also <a href="#TravelingSalesmanHeuristics.simulated_annealing"><code>simulated_annealing</code></a> for another path generation heuristic.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/evanfields/TravelingSalesmanHeuristics.jl/blob/3f5a2734f54152a193e063187d8975027ad5c61f/src/TravelingSalesmanHeuristics.jl#L324-L334">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TravelingSalesmanHeuristics.simulated_annealing" href="#TravelingSalesmanHeuristics.simulated_annealing"><code>TravelingSalesmanHeuristics.simulated_annealing</code></a> — <span class="docstring-category">Function</span></header><section><div><p>simulated_annealing(distmat; ...)</p><p>Use a simulated annealing strategy to return a closed tour. The temperature decays exponentially from <code>init_temp</code> to <code>final_temp</code>. Return a tuple <code>(path, cost)</code>.</p><p><strong>Optional keyword arguments:</strong></p><ul><li><code>steps::Int = 50n^2</code>: number of steps to take; defaults to 50n^2 where n is number of cities</li><li><code>num_starts::Int = 1</code>: number of times to run the simulated annealing algorithm, each time   starting with a random path, or <code>init_path</code> if non-null. Defaults to 1.</li><li><code>init_temp::Real = exp(8)</code>: initial temperature which controls initial chance of accepting an   inferior tour.</li><li><code>final_temp::Real = exp(-6.5)</code> final temperature which controls final chance of accepting an   inferior tour; lower values roughly correspond to a longer period of 2-opt.</li><li><code>init_path::Union{Vector{Int}, Nothing} = nothing</code>: path to start the annealing from.   Either a <code>Vector{Int}</code> or <code>nothing</code>. If a <code>Vector{Int}</code> is given, it will be used as the initial path;   otherwise a random initial path is used.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/evanfields/TravelingSalesmanHeuristics.jl/blob/3f5a2734f54152a193e063187d8975027ad5c61f/src/simulated_annealing.jl#L3-L20">source</a></section></article><h2 id="Repetitive-heuristics"><a class="docs-heading-anchor" href="#Repetitive-heuristics">Repetitive heuristics</a><a id="Repetitive-heuristics-1"></a><a class="docs-heading-anchor-permalink" href="#Repetitive-heuristics" title="Permalink"></a></h2><p>Many of the heuristics in this package require some starting state. For example, the nearest neighbor heuristic begins at a first city and then iteratively continues to whichever unvisited city is closest to the current city. Therefore, running the heuristic with different choices for the first city may produce different final paths. At the cost of increased computation time, a better path can often be found by starting the heuristic method at each city. The convenience method <code>repetitive_heuristic</code> is provided to help with this use case:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TravelingSalesmanHeuristics.repetitive_heuristic" href="#TravelingSalesmanHeuristics.repetitive_heuristic"><code>TravelingSalesmanHeuristics.repetitive_heuristic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">repetitive_heuristic(distmat::Matrix, heuristic::Function, repetitive_kw::Symbol; keywords...)</code></pre><p>For each <code>i</code> in <code>1:n</code>, run <code>heuristic</code> with keyword <code>repetitive_kw</code> set to <code>i</code>. Return the tuple <code>(bestpath, bestcost)</code>. By default, <code>repetitive_kw</code> is <code>:firstcity</code>, which is appropriate for the <code>farthest_insertion</code>, <code>cheapest_insertion</code>, and <code>nearest_neighbor</code> heuristics.</p><p>Any keywords passed to <code>repetitive_heuristic</code> are passed along to each call of <code>heuristic</code>. For example, <code>repetitive_heuristic(dm, nearest_neighbor; do2opt = true)</code> will perform 2-opt for each of the <code>n</code> nearest neighbor paths.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The repetitive heuristic calls are parallelized with threads. For optimum speed make sure Julia is running with multiple threads.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/evanfields/TravelingSalesmanHeuristics.jl/blob/3f5a2734f54152a193e063187d8975027ad5c61f/src/helpers.jl#L44-L58">source</a></section></article><h2 id="Lower-bounds"><a class="docs-heading-anchor" href="#Lower-bounds">Lower bounds</a><a id="Lower-bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Lower-bounds" title="Permalink"></a></h2><p>A simple lower bound on the cost of the optimal tour is provided. This bound uses no problem-specific structure; if you know some details of your problem instance, you can probably find a tighter bound.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TravelingSalesmanHeuristics.lowerbound" href="#TravelingSalesmanHeuristics.lowerbound"><code>TravelingSalesmanHeuristics.lowerbound</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">lowerbound(distmat)</code></pre><p>Lower bound the cost of the optimal TSP tour. At present, the bounds considered are a simple bound based on the minimum cost of entering and exiting each city and a slightly better bound inspired by the Held-Karp bounds; note that the implementation here is simpler and less tight than proper HK bounds.</p><p>The Held-Karp-inspired bound requires computing many spanning trees. For a faster but typically looser bound, use <code>TravelingSalesmanHeuristics.vertwise_bound(distmat)</code>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The spanning tree bounds are only correct on symmetric problem instances and will not be used if the passed <code>distmat</code> is not symmetric. If you wish to use these bounds anyway, (e.g. for near-symmetric instances), use <code>TravelingSalesmanHeuristics.hkinspired_bound</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/evanfields/TravelingSalesmanHeuristics.jl/blob/3f5a2734f54152a193e063187d8975027ad5c61f/src/lowerbounds.jl#L113-L128">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Wednesday 6 March 2024 17:36">Wednesday 6 March 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
